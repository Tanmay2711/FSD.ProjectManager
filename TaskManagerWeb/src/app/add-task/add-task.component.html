<div class="halfOfScreen">
    <h2></h2>
    <form>
        <div class="form-group">
            <label for="projectname-input" class="addTaskLables">Project:</label>
            <input *ngIf="!isEditView;else disabledProjectInput" type="text" id="projectname-input" [(ngModel)]="taskInfo.project" class="form-control addTaskTextInput" name="projectname" 
            matInput [formControl]="projectNameControl" [matAutocomplete]="projectNameAuto"/>

            <mat-autocomplete #projectNameAuto="matAutocomplete" [displayWith]="projectDisplayFn">
                    <mat-option *ngFor="let option of filteredProjects | async" [value]="option">
                    {{option.projectName}}
                    </mat-option>
            </mat-autocomplete>
            <ng-template #disabledProjectInput>
                    <input [disabled]="true" type="text" id="projectname-input" [value]="taskInfo.project.projectName" class="form-control addTaskTextInput" name="projectname" />
            </ng-template>
        </div>
        <div class="form-group">
            <label for="taskname-input" class="addTaskLables">Task:</label>
            <input type="text" id="taskname-input" [(ngModel)]="taskInfo.name" class="form-control addTaskTextInput" name="name" />
        </div>
        <div class="form-group">
            <label for="myRange" class="addTaskLables">Priority:</label>
            <div>
              <span style="float: left">0</span>
              <span style="float: right">30</span>
            </div>
            <div class="slidecontainer">
                <input type="range" min="0" max="30" value="0" matTooltip={{ToolTipText}} matTooltipPosition="after"  [(ngModel)]="taskInfo.priority" (input)="onRangeInput($event)" name="priority" class="slider" id="myRange">
              </div>
        </div>
        <div class="form-group">
            <label for="parenttask-input" class="addTaskLables">Parent Task:</label>
                <input type="text" id="parenttask-input" name="parentName" class="form-control addTaskTextInput" 
                matInput [formControl]="myControl" [matAutocomplete]="auto" aria-label="Number" [(ngModel)]="taskInfo.parentName"/>
            
                <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                        {{option}}
                        </mat-option>
                </mat-autocomplete>
        </div>
        <div class="form-group">
            <label for="startdate-input" class="addTaskLables">Start Date:</label>
            <input type="text" matInput [matDatepicker]="myDatepicker" id="startdate-input" [(ngModel)]="taskInfo.startDate" name="startDate" class="form-control addTaskTextInput" />
            <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
            <mat-datepicker #myDatepicker></mat-datepicker>
        </div>
        <div class="form-group">
            <label for="enddate-input" class="addTaskLables">End Date:</label>
            <input type="text" matInput [matDatepicker]="myDatepicker1" id="enddate-input" [(ngModel)]="taskInfo.endDate" name="endDate" class="form-control addTaskTextInput" />
            <mat-datepicker-toggle matSuffix [for]="myDatepicker1"></mat-datepicker-toggle>
            <mat-datepicker #myDatepicker1></mat-datepicker>
        </div>
        <div class="form-group">
                <label for="user-input" class="addTaskLables">User:</label>
                    <input *ngIf="!isEditView;else disabledUserInput" type="text" id="user-input" name="user" class="form-control addTaskTextInput" 
                    matInput [formControl]="userNameControl" [matAutocomplete]="userAutoComplete" aria-label="Number" [(ngModel)]="taskInfo.user"/>
                
                    <mat-autocomplete #userAutoComplete="matAutocomplete" [displayWith]="userDisplayFn">
                            <mat-option *ngFor="let option of filteredUsers | async" [value]="option">
                            {{option.firstName + " " + option.lastName}}
                            </mat-option>
                    </mat-autocomplete>

                    <ng-template #disabledUserInput>
                            <input [disabled]="true" type="text" id="user-input" [value]="taskInfo.user.firstName + ' ' + taskInfo.user.lastName" class="form-control addTaskTextInput" name="username" />
                    </ng-template>
        </div>
        <button type="button" class="btn btn-secondary" (click)="addOrUpdateTaskRecord($event);">{{AddTaskText}}</button>
        <button style="margin-left: 5%" type="button" class="btn btn-secondary" (click)="resetClicked($event)">{{CancelTaskText}}</button>

    </form>
   </div>